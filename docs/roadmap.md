# 開発ロードマップ：ソーシャルゲーム用BFF/API構成案

本ドキュメントでは、Laravel + MySQL + Jenkins + Unity 連携によるBFF/API基盤の構築および、プロダクトローンチまでのステップを時系列で示します。MVPから運用自走移管までを想定しています。

---

## フェーズ別マイルストーン

| フェーズ             | 期間（目安）     | ゴールと成果物概要                                              |
|----------------------|------------------|------------------------------------------------------------------|
| 0. 事前準備          | W0               | スコープ明確化、チーム体制策定、開発リポジトリ/CI環境整備        |
| 1. 要件定義・設計    | W1–W2            | API仕様、DB設計、Unity連携設計、非機能要件策定                   |
| 2. MVP実装           | W3–W6            | 認証/課金/ガチャ/ユーザー管理APIの実装、ユニットテスト実装       |
| 3. 環境構築・CI整備  | W5–W7            | dev/stg/prod環境構築、Jenkins CI/CD、マイグレーション自動化     |
| 4. KPI/運用支援整備  | W6–W8            | KPI可視化（スプレッドシート or BI連携）、CMS構築（Laravel Nova）|
| 5. リリース           | W9               | 本番環境への移行、UnityクライアントとAPI接続確認                  |
| 6. 自走移行・引継ぎ  | W10以降          | ドキュメント整備、運用体制構築、技術移管                         |

---

## フェーズ詳細

### フェーズ 0：事前準備

- GitHubプロジェクト立ち上げ・ディレクトリ構成設計
- Jenkinsfileと自動ビルド用シェル作成
- AWS構成設計（EC2ベース / ASG + ALB / CMS分離構成 / Terraform活用）

---

### フェーズ 1：要件定義・設計

- API仕様（OpenAPIベース）
- DB ER図作成（draw.io）
- Unity ⇔ API間通信仕様決定
- APIの負荷想定（同時接続数・スパイク耐性）

---

### フェーズ 2：MVP実装

- Laravelでの基幹API開発（Auth / Item / Battle / Gacha）
- Laravel Policyによる権限制御
- PHPUnitを使ったユニットテスト整備

---

### フェーズ 3：CI/CD構築

- Jenkinsによるブランチ監視・自動ビルド
- `.env` を環境ごとに分離（dev/stg/prod）
- DBマイグレーション自動実行（Laravel Migrate）
- Jenkins のビルド成功／失敗通知を Slack チャンネルへ自動通知
---

### フェーズ 4：KPI出力・CMS整備

- KPIログ → Google Sheets出力（定期バッチ or GCP連携）
- Laravel Nova によるゲームマスター管理UI構築
- お問い合わせ管理、ユーザーデータ編集、ガチャ設定UIなど

---

### フェーズ 5：リリース

- UnityビルドとAPI統合テスト
- AWS本番環境へのデプロイ
- スモークテスト／パフォーマンステスト実施

---

### フェーズ 6：自走移行

- `/docs/requirements.md` 仕様書整備
- `/docs/review_policy.md` 開発ガイドライン整備
- `/docs/org_structure.png` にて体制可視化
- Jenkinsジョブマニュアル、障害復旧手順書も含める

---

## 備考

- 本プロジェクトでは「高速な立ち上げ」「自動化による少人数運用」「トレーサビリティ確保」を重視
- 実運用に耐えうる構成と、エンジニア以外でも運用可能な管理機構をセットで構築

---
